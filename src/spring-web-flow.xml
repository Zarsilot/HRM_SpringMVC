<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/beans
             http://www.springframework.org/schema/webflow"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:flow="http://www.springframework.org/schema/webflow-config"
	xsi:schemaLocation="http://www.springframework.org/schema/webflow
        http://www.springframework.org/schema/webflow/spring-webflow-2.4.xsd
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- 装配流程执行器 -->
	<flow:flow-executor id="flowExecutor"></flow:flow-executor>
	
	<flow:flow-registry id="flowRegistry" base-path="/WEB-INF/flows">
		<flow:flow-location-pattern value="*-flow.xml" />
	</flow:flow-registry>
	<!-- Web flow流程 -->
	<bean class="org.springframework.webflow.mvc.servlet.FlowHandlerMapping">
		<property name="flowRegistry" ref="flowRegistry"></property>
	</bean>
	<bean class="org.springframework.webflow.mvc.servlet.FlowHandlerAdapter">
		<property name="flowExecutor" ref="flowExecutor"></property>
	</bean>
	
	<!-- 定义视图状态 -->
	<view-state id="start" view="welcome"></view-state>
	
	<!-- 全局转移 -->
	<global-transitions>
		<transition on="cancel" to="endState" />
	</global-transitions>
	
	<!-- 行为状态 -->
	<action-state id="saveOrder">
		<!-- 行为状态要做的事情 -->
		<evaluate expression="" />
		<transition to="thankYou"/>
	</action-state>
	
	<!-- 决策状态 -->
	<decision-state id="checkDeliveryArea">
		<if test="" then="" else="" />
		
	</decision-state>
	
	<!-- 子流程状态 -->
	<subflow-state id="oeder" subflow="">
		<input name="order" value="order" />
		<!-- on指定触发转移的事件，to指定流程的下一个状态 -->
		<transition on="orderCreated" to="payment" />
	</subflow-state>
	
	<!-- 结束状态 -->
	<end-state id="" />

</flow>